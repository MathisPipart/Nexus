{% extends "base.html" %}
{% load static %}

{% block content %}
<head>
    <!-- Inclusion des scripts et styles de FullCalendar -->
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.9/index.global.min.js"></script>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const calendarEl = document.getElementById('calendar');
        let calendar = new FullCalendar.Calendar(calendarEl, {
        timeZone: 'UTC',
        initialView: 'timeGridWeek',
        height: 'auto',
        locale: 'fr',
        hiddenDays: [ 0 ], // Masquer les dimanches
        nowIndicator: true, // Afficher la ligne actuelle
        headerToolbar: {
          left: 'prev,next',
          center: 'title',
          right: 'dayGridDay,timeGridWeek,dayGridMonth'
        },
        slotLabelFormat: {
          hour: 'numeric',
          minute: '2-digit',
          omitZeroMinute: true,
          meridiem: 'short'
        },
        slotMinTime: '00:00:00', // Heure de début de la grille de temps
        slotMaxTime: '24:00:00', // Heure de fin de la grille de temps
        scrollTime: '07:00:00', // Définir le défilement initial à 7h du matin
        editable: true,
        events: [
            {% for event in events %}
            {
                title: '{{ event.title }}',
                start: '{{ event.start_time|date:"c" }}', // Assurez-vous que le format est correct
                end: '{{ event.end_time|date:"c" }}', // Idem ici
                allDay: false // ou true, selon la nature de l'événement
            },
            {% endfor %}
        ]
      });
      calendar.render();
    });




    </script>
</head>
<body>

  <div id='calendar'></div>

</body>
{% endblock %}
